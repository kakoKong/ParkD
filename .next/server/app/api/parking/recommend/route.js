"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/parking/recommend/route";
exports.ids = ["app/api/parking/recommend/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fparking%2Frecommend%2Froute&page=%2Fapi%2Fparking%2Frecommend%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fparking%2Frecommend%2Froute.ts&appDir=%2FUsers%2Fpattarathonnopwattanapong%2FKong%2Fstartup%2FParkD%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fpattarathonnopwattanapong%2FKong%2Fstartup%2FParkD&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fparking%2Frecommend%2Froute&page=%2Fapi%2Fparking%2Frecommend%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fparking%2Frecommend%2Froute.ts&appDir=%2FUsers%2Fpattarathonnopwattanapong%2FKong%2Fstartup%2FParkD%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fpattarathonnopwattanapong%2FKong%2Fstartup%2FParkD&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_pattarathonnopwattanapong_Kong_startup_ParkD_app_api_parking_recommend_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/parking/recommend/route.ts */ \"(rsc)/./app/api/parking/recommend/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/parking/recommend/route\",\n        pathname: \"/api/parking/recommend\",\n        filename: \"route\",\n        bundlePath: \"app/api/parking/recommend/route\"\n    },\n    resolvedPagePath: \"/Users/pattarathonnopwattanapong/Kong/startup/ParkD/app/api/parking/recommend/route.ts\",\n    nextConfigOutput,\n    userland: _Users_pattarathonnopwattanapong_Kong_startup_ParkD_app_api_parking_recommend_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/parking/recommend/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwYXJraW5nJTJGcmVjb21tZW5kJTJGcm91dGUmcGFnZT0lMkZhcGklMkZwYXJraW5nJTJGcmVjb21tZW5kJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcGFya2luZyUyRnJlY29tbWVuZCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnBhdHRhcmF0aG9ubm9wd2F0dGFuYXBvbmclMkZLb25nJTJGc3RhcnR1cCUyRlBhcmtEJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnBhdHRhcmF0aG9ubm9wd2F0dGFuYXBvbmclMkZLb25nJTJGc3RhcnR1cCUyRlBhcmtEJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNzQztBQUNuSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3BhcmtkLz8wMTgyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9wYXR0YXJhdGhvbm5vcHdhdHRhbmFwb25nL0tvbmcvc3RhcnR1cC9QYXJrRC9hcHAvYXBpL3BhcmtpbmcvcmVjb21tZW5kL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wYXJraW5nL3JlY29tbWVuZC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3BhcmtpbmcvcmVjb21tZW5kXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9wYXJraW5nL3JlY29tbWVuZC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9wYXR0YXJhdGhvbm5vcHdhdHRhbmFwb25nL0tvbmcvc3RhcnR1cC9QYXJrRC9hcHAvYXBpL3BhcmtpbmcvcmVjb21tZW5kL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9wYXJraW5nL3JlY29tbWVuZC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fparking%2Frecommend%2Froute&page=%2Fapi%2Fparking%2Frecommend%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fparking%2Frecommend%2Froute.ts&appDir=%2FUsers%2Fpattarathonnopwattanapong%2FKong%2Fstartup%2FParkD%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fpattarathonnopwattanapong%2FKong%2Fstartup%2FParkD&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/parking/recommend/route.ts":
/*!********************************************!*\
  !*** ./app/api/parking/recommend/route.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _lib_pricing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/pricing */ \"(rsc)/./lib/pricing.ts\");\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/supabase/server */ \"(rsc)/./lib/supabase/server.ts\");\n\n\n\n\nconst qualifierEnum = zod__WEBPACK_IMPORTED_MODULE_3__.z.enum([\n    \"movie\",\n    \"dining\",\n    \"grocery\",\n    \"membership\",\n    \"other\"\n]);\nconst bodySchema = zod__WEBPACK_IMPORTED_MODULE_3__.z.object({\n    durationMinutes: zod__WEBPACK_IMPORTED_MODULE_3__.z.number({\n        required_error: \"durationMinutes is required\"\n    }).int().positive(),\n    spendAmount: zod__WEBPACK_IMPORTED_MODULE_3__.z.number().nonnegative().optional(),\n    qualifiers: zod__WEBPACK_IMPORTED_MODULE_3__.z.array(qualifierEnum).optional()\n});\nasync function POST(request) {\n    const json = await request.json().catch(()=>null);\n    const result = bodySchema.safeParse(json);\n    if (!result.success) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Invalid request\",\n            issues: result.error.issues\n        }, {\n            status: 400\n        });\n    }\n    const { durationMinutes, spendAmount, qualifiers } = result.data;\n    const client = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_2__.createServerClient)();\n    const { data: parkingLots, error } = await client.listParkingLots();\n    if (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n    const qualifierInput = qualifiers ?? [];\n    const recommendations = parkingLots.map((lot)=>(0,_lib_pricing__WEBPACK_IMPORTED_MODULE_1__.calculatePricing)({\n            lot,\n            durationMinutes,\n            spendAmount,\n            qualifiers: qualifierInput\n        })).sort((a, b)=>a.totalCost - b.totalCost);\n    const response = {\n        requestedDurationMinutes: durationMinutes,\n        recommendations,\n        generatedAt: new Date().toISOString()\n    };\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(response);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3BhcmtpbmcvcmVjb21tZW5kL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJDO0FBQ25CO0FBRXlCO0FBQ1U7QUFHM0QsTUFBTUksZ0JBQWdCSCxrQ0FBQ0EsQ0FBQ0ksSUFBSSxDQUFDO0lBQUM7SUFBUztJQUFVO0lBQVc7SUFBYztDQUFRO0FBRWxGLE1BQU1DLGFBQWFMLGtDQUFDQSxDQUFDTSxNQUFNLENBQUM7SUFDMUJDLGlCQUFpQlAsa0NBQUNBLENBQ2ZRLE1BQU0sQ0FBQztRQUFFQyxnQkFBZ0I7SUFBOEIsR0FDdkRDLEdBQUcsR0FDSEMsUUFBUTtJQUNYQyxhQUFhWixrQ0FBQ0EsQ0FBQ1EsTUFBTSxHQUFHSyxXQUFXLEdBQUdDLFFBQVE7SUFDOUNDLFlBQVlmLGtDQUFDQSxDQUFDZ0IsS0FBSyxDQUFDYixlQUFlVyxRQUFRO0FBQzdDO0FBRU8sZUFBZUcsS0FBS0MsT0FBZ0I7SUFDekMsTUFBTUMsT0FBTyxNQUFNRCxRQUFRQyxJQUFJLEdBQUdDLEtBQUssQ0FBQyxJQUFNO0lBRTlDLE1BQU1DLFNBQVNoQixXQUFXaUIsU0FBUyxDQUFDSDtJQUNwQyxJQUFJLENBQUNFLE9BQU9FLE9BQU8sRUFBRTtRQUNuQixPQUFPeEIscURBQVlBLENBQUNvQixJQUFJLENBQ3RCO1lBQUVLLE9BQU87WUFBbUJDLFFBQVFKLE9BQU9HLEtBQUssQ0FBQ0MsTUFBTTtRQUFDLEdBQ3hEO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtJQUVBLE1BQU0sRUFBRW5CLGVBQWUsRUFBRUssV0FBVyxFQUFFRyxVQUFVLEVBQUUsR0FBR00sT0FBT00sSUFBSTtJQUNoRSxNQUFNQyxTQUFTMUIsd0VBQWtCQTtJQUNqQyxNQUFNLEVBQUV5QixNQUFNRSxXQUFXLEVBQUVMLEtBQUssRUFBRSxHQUFHLE1BQU1JLE9BQU9FLGVBQWU7SUFFakUsSUFBSU4sT0FBTztRQUNULE9BQU96QixxREFBWUEsQ0FBQ29CLElBQUksQ0FBQztZQUFFSyxPQUFPQSxNQUFNTyxPQUFPO1FBQUMsR0FBRztZQUFFTCxRQUFRO1FBQUk7SUFDbkU7SUFFQSxNQUFNTSxpQkFBaUJqQixjQUFjLEVBQUU7SUFFdkMsTUFBTWtCLGtCQUFrQkosWUFDckJLLEdBQUcsQ0FBQyxDQUFDQyxNQUNKbEMsOERBQWdCQSxDQUFDO1lBQ2ZrQztZQUNBNUI7WUFDQUs7WUFDQUcsWUFBWWlCO1FBQ2QsSUFFREksSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU1ELEVBQUVFLFNBQVMsR0FBR0QsRUFBRUMsU0FBUztJQUUzQyxNQUFNQyxXQUFtQztRQUN2Q0MsMEJBQTBCbEM7UUFDMUIwQjtRQUNBUyxhQUFhLElBQUlDLE9BQU9DLFdBQVc7SUFDckM7SUFFQSxPQUFPN0MscURBQVlBLENBQUNvQixJQUFJLENBQUNxQjtBQUMzQiIsInNvdXJjZXMiOlsid2VicGFjazovL3BhcmtkLy4vYXBwL2FwaS9wYXJraW5nL3JlY29tbWVuZC9yb3V0ZS50cz80MzU1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcblxuaW1wb3J0IHsgY2FsY3VsYXRlUHJpY2luZyB9IGZyb20gXCJAL2xpYi9wcmljaW5nXCI7XG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCI7XG5pbXBvcnQgdHlwZSB7IFJlY29tbWVuZGF0aW9uUmVzcG9uc2UsIERpc2NvdW50UXVhbGlmaWVyIH0gZnJvbSBcIkAvdHlwZXMvcGFya2luZ1wiO1xuXG5jb25zdCBxdWFsaWZpZXJFbnVtID0gei5lbnVtKFtcIm1vdmllXCIsIFwiZGluaW5nXCIsIFwiZ3JvY2VyeVwiLCBcIm1lbWJlcnNoaXBcIiwgXCJvdGhlclwiXSk7XG5cbmNvbnN0IGJvZHlTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGR1cmF0aW9uTWludXRlczogelxuICAgIC5udW1iZXIoeyByZXF1aXJlZF9lcnJvcjogXCJkdXJhdGlvbk1pbnV0ZXMgaXMgcmVxdWlyZWRcIiB9KVxuICAgIC5pbnQoKVxuICAgIC5wb3NpdGl2ZSgpLFxuICBzcGVuZEFtb3VudDogei5udW1iZXIoKS5ub25uZWdhdGl2ZSgpLm9wdGlvbmFsKCksXG4gIHF1YWxpZmllcnM6IHouYXJyYXkocXVhbGlmaWVyRW51bSkub3B0aW9uYWwoKVxufSk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgY29uc3QganNvbiA9IGF3YWl0IHJlcXVlc3QuanNvbigpLmNhdGNoKCgpID0+IG51bGwpO1xuXG4gIGNvbnN0IHJlc3VsdCA9IGJvZHlTY2hlbWEuc2FmZVBhcnNlKGpzb24pO1xuICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogXCJJbnZhbGlkIHJlcXVlc3RcIiwgaXNzdWVzOiByZXN1bHQuZXJyb3IuaXNzdWVzIH0sXG4gICAgICB7IHN0YXR1czogNDAwIH1cbiAgICApO1xuICB9XG5cbiAgY29uc3QgeyBkdXJhdGlvbk1pbnV0ZXMsIHNwZW5kQW1vdW50LCBxdWFsaWZpZXJzIH0gPSByZXN1bHQuZGF0YTtcbiAgY29uc3QgY2xpZW50ID0gY3JlYXRlU2VydmVyQ2xpZW50KCk7XG4gIGNvbnN0IHsgZGF0YTogcGFya2luZ0xvdHMsIGVycm9yIH0gPSBhd2FpdCBjbGllbnQubGlzdFBhcmtpbmdMb3RzKCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxuXG4gIGNvbnN0IHF1YWxpZmllcklucHV0ID0gcXVhbGlmaWVycyA/PyBbXTtcblxuICBjb25zdCByZWNvbW1lbmRhdGlvbnMgPSBwYXJraW5nTG90c1xuICAgIC5tYXAoKGxvdCkgPT5cbiAgICAgIGNhbGN1bGF0ZVByaWNpbmcoe1xuICAgICAgICBsb3QsXG4gICAgICAgIGR1cmF0aW9uTWludXRlcyxcbiAgICAgICAgc3BlbmRBbW91bnQsXG4gICAgICAgIHF1YWxpZmllcnM6IHF1YWxpZmllcklucHV0IGFzIERpc2NvdW50UXVhbGlmaWVyW11cbiAgICAgIH0pXG4gICAgKVxuICAgIC5zb3J0KChhLCBiKSA9PiBhLnRvdGFsQ29zdCAtIGIudG90YWxDb3N0KTtcblxuICBjb25zdCByZXNwb25zZTogUmVjb21tZW5kYXRpb25SZXNwb25zZSA9IHtcbiAgICByZXF1ZXN0ZWREdXJhdGlvbk1pbnV0ZXM6IGR1cmF0aW9uTWludXRlcyxcbiAgICByZWNvbW1lbmRhdGlvbnMsXG4gICAgZ2VuZXJhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICB9O1xuXG4gIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXNwb25zZSk7XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwieiIsImNhbGN1bGF0ZVByaWNpbmciLCJjcmVhdGVTZXJ2ZXJDbGllbnQiLCJxdWFsaWZpZXJFbnVtIiwiZW51bSIsImJvZHlTY2hlbWEiLCJvYmplY3QiLCJkdXJhdGlvbk1pbnV0ZXMiLCJudW1iZXIiLCJyZXF1aXJlZF9lcnJvciIsImludCIsInBvc2l0aXZlIiwic3BlbmRBbW91bnQiLCJub25uZWdhdGl2ZSIsIm9wdGlvbmFsIiwicXVhbGlmaWVycyIsImFycmF5IiwiUE9TVCIsInJlcXVlc3QiLCJqc29uIiwiY2F0Y2giLCJyZXN1bHQiLCJzYWZlUGFyc2UiLCJzdWNjZXNzIiwiZXJyb3IiLCJpc3N1ZXMiLCJzdGF0dXMiLCJkYXRhIiwiY2xpZW50IiwicGFya2luZ0xvdHMiLCJsaXN0UGFya2luZ0xvdHMiLCJtZXNzYWdlIiwicXVhbGlmaWVySW5wdXQiLCJyZWNvbW1lbmRhdGlvbnMiLCJtYXAiLCJsb3QiLCJzb3J0IiwiYSIsImIiLCJ0b3RhbENvc3QiLCJyZXNwb25zZSIsInJlcXVlc3RlZER1cmF0aW9uTWludXRlcyIsImdlbmVyYXRlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/parking/recommend/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/pricing.ts":
/*!************************!*\
  !*** ./lib/pricing.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculatePricing: () => (/* binding */ calculatePricing)\n/* harmony export */ });\nfunction applyDiscounts({ lot, durationMinutes, spendAmount = 0, qualifiers = [] }) {\n    let bonusMinutes = 0;\n    const discountsApplied = [];\n    for (const discount of lot.discounts){\n        const meetsSpend = discount.threshold !== undefined ? spendAmount >= discount.threshold : false;\n        const matchesQualifier = discount.qualifier !== undefined ? qualifiers.includes(discount.qualifier) : false;\n        const isMembership = discount.type === \"membership\";\n        if (discount.type === \"purchase\" && meetsSpend || discount.type === \"validation\" && matchesQualifier || isMembership && discount.threshold === undefined || isMembership && meetsSpend) {\n            bonusMinutes += discount.additionalFreeMinutes;\n            discountsApplied.push(discount);\n        }\n    }\n    const effectiveFreeMinutes = lot.freeMinutes + bonusMinutes;\n    const effectivePaidMinutes = Math.max(durationMinutes - effectiveFreeMinutes, 0);\n    return {\n        effectiveFreeMinutes,\n        effectivePaidMinutes,\n        discountsApplied\n    };\n}\nfunction computeTierCost(lot, paidMinutes) {\n    if (paidMinutes <= 0) {\n        return {\n            cost: 0,\n            rate: 0\n        };\n    }\n    let remainingMinutes = paidMinutes;\n    let totalCost = 0;\n    let lastRate = 0;\n    for (const tier of lot.tiers){\n        if (remainingMinutes <= 0) break;\n        if (tier.toMinute) {\n            const tierDuration = tier.toMinute - tier.fromMinute + 1;\n            const minutesInTier = Math.min(remainingMinutes, tierDuration);\n            totalCost += minutesInTier / 60 * tier.ratePerHour;\n            remainingMinutes -= minutesInTier;\n            lastRate = tier.ratePerHour;\n        } else {\n            totalCost += remainingMinutes / 60 * tier.ratePerHour;\n            lastRate = tier.ratePerHour;\n            remainingMinutes = 0;\n        }\n    }\n    return {\n        cost: Math.max(totalCost, 0),\n        rate: lastRate\n    };\n}\nfunction calculatePricing(input) {\n    const { lot, durationMinutes } = input;\n    const { effectiveFreeMinutes, effectivePaidMinutes, discountsApplied } = applyDiscounts(input);\n    const { cost, rate } = computeTierCost(lot, effectivePaidMinutes);\n    return {\n        lotId: lot.id,\n        lotName: lot.name,\n        baseMinutesCharged: durationMinutes,\n        effectiveFreeMinutes,\n        effectivePaidMinutes,\n        totalCost: Number(cost.toFixed(2)),\n        discountsApplied,\n        hourlyRateAfterFree: rate\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHJpY2luZy50cyIsIm1hcHBpbmdzIjoiOzs7O0FBU0EsU0FBU0EsZUFBZSxFQUN0QkMsR0FBRyxFQUNIQyxlQUFlLEVBQ2ZDLGNBQWMsQ0FBQyxFQUNmQyxhQUFhLEVBQUUsRUFDRjtJQUNiLElBQUlDLGVBQWU7SUFDbkIsTUFBTUMsbUJBQXNDLEVBQUU7SUFFOUMsS0FBSyxNQUFNQyxZQUFZTixJQUFJTyxTQUFTLENBQUU7UUFDcEMsTUFBTUMsYUFDSkYsU0FBU0csU0FBUyxLQUFLQyxZQUFZUixlQUFlSSxTQUFTRyxTQUFTLEdBQUc7UUFDekUsTUFBTUUsbUJBQ0pMLFNBQVNNLFNBQVMsS0FBS0YsWUFBWVAsV0FBV1UsUUFBUSxDQUFDUCxTQUFTTSxTQUFTLElBQUk7UUFDL0UsTUFBTUUsZUFBZVIsU0FBU1MsSUFBSSxLQUFLO1FBRXZDLElBQ0UsU0FBVUEsSUFBSSxLQUFLLGNBQWNQLGNBQ2hDRixTQUFTUyxJQUFJLEtBQUssZ0JBQWdCSixvQkFDbENHLGdCQUFnQlIsU0FBU0csU0FBUyxLQUFLQyxhQUN2Q0ksZ0JBQWdCTixZQUNqQjtZQUNBSixnQkFBZ0JFLFNBQVNVLHFCQUFxQjtZQUM5Q1gsaUJBQWlCWSxJQUFJLENBQUNYO1FBQ3hCO0lBQ0Y7SUFFQSxNQUFNWSx1QkFBdUJsQixJQUFJbUIsV0FBVyxHQUFHZjtJQUMvQyxNQUFNZ0IsdUJBQXVCQyxLQUFLQyxHQUFHLENBQUNyQixrQkFBa0JpQixzQkFBc0I7SUFFOUUsT0FBTztRQUNMQTtRQUNBRTtRQUNBZjtJQUNGO0FBQ0Y7QUFFQSxTQUFTa0IsZ0JBQWdCdkIsR0FBZSxFQUFFd0IsV0FBbUI7SUFDM0QsSUFBSUEsZUFBZSxHQUFHO1FBQ3BCLE9BQU87WUFBRUMsTUFBTTtZQUFHQyxNQUFNO1FBQUU7SUFDNUI7SUFFQSxJQUFJQyxtQkFBbUJIO0lBQ3ZCLElBQUlJLFlBQVk7SUFDaEIsSUFBSUMsV0FBVztJQUVmLEtBQUssTUFBTUMsUUFBUTlCLElBQUkrQixLQUFLLENBQUU7UUFDNUIsSUFBSUosb0JBQW9CLEdBQUc7UUFFM0IsSUFBSUcsS0FBS0UsUUFBUSxFQUFFO1lBQ2pCLE1BQU1DLGVBQWVILEtBQUtFLFFBQVEsR0FBR0YsS0FBS0ksVUFBVSxHQUFHO1lBQ3ZELE1BQU1DLGdCQUFnQmQsS0FBS2UsR0FBRyxDQUFDVCxrQkFBa0JNO1lBQ2pETCxhQUFhLGdCQUFpQixLQUFNRSxLQUFLTyxXQUFXO1lBQ3BEVixvQkFBb0JRO1lBQ3BCTixXQUFXQyxLQUFLTyxXQUFXO1FBQzdCLE9BQU87WUFDTFQsYUFBYSxtQkFBb0IsS0FBTUUsS0FBS08sV0FBVztZQUN2RFIsV0FBV0MsS0FBS08sV0FBVztZQUMzQlYsbUJBQW1CO1FBQ3JCO0lBQ0Y7SUFFQSxPQUFPO1FBQUVGLE1BQU1KLEtBQUtDLEdBQUcsQ0FBQ00sV0FBVztRQUFJRixNQUFNRztJQUFTO0FBQ3hEO0FBRU8sU0FBU1MsaUJBQ2RDLEtBQW1CO0lBRW5CLE1BQU0sRUFBRXZDLEdBQUcsRUFBRUMsZUFBZSxFQUFFLEdBQUdzQztJQUNqQyxNQUFNLEVBQUVyQixvQkFBb0IsRUFBRUUsb0JBQW9CLEVBQUVmLGdCQUFnQixFQUFFLEdBQUdOLGVBQWV3QztJQUN4RixNQUFNLEVBQUVkLElBQUksRUFBRUMsSUFBSSxFQUFFLEdBQUdILGdCQUFnQnZCLEtBQUtvQjtJQUU1QyxPQUFPO1FBQ0xvQixPQUFPeEMsSUFBSXlDLEVBQUU7UUFDYkMsU0FBUzFDLElBQUkyQyxJQUFJO1FBQ2pCQyxvQkFBb0IzQztRQUNwQmlCO1FBQ0FFO1FBQ0FRLFdBQVdpQixPQUFPcEIsS0FBS3FCLE9BQU8sQ0FBQztRQUMvQnpDO1FBQ0EwQyxxQkFBcUJyQjtJQUN2QjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGFya2QvLi9saWIvcHJpY2luZy50cz9mOWE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhcmtpbmdEaXNjb3VudCwgUGFya2luZ0xvdCwgUHJpY2luZ0JyZWFrZG93biB9IGZyb20gXCJAL3R5cGVzL3BhcmtpbmdcIjtcblxuZXhwb3J0IGludGVyZmFjZSBQcmljaW5nSW5wdXQge1xuICBsb3Q6IFBhcmtpbmdMb3Q7XG4gIGR1cmF0aW9uTWludXRlczogbnVtYmVyO1xuICBzcGVuZEFtb3VudD86IG51bWJlcjtcbiAgcXVhbGlmaWVycz86IFBhcmtpbmdEaXNjb3VudFtcInF1YWxpZmllclwiXVtdO1xufVxuXG5mdW5jdGlvbiBhcHBseURpc2NvdW50cyh7XG4gIGxvdCxcbiAgZHVyYXRpb25NaW51dGVzLFxuICBzcGVuZEFtb3VudCA9IDAsXG4gIHF1YWxpZmllcnMgPSBbXVxufTogUHJpY2luZ0lucHV0KSB7XG4gIGxldCBib251c01pbnV0ZXMgPSAwO1xuICBjb25zdCBkaXNjb3VudHNBcHBsaWVkOiBQYXJraW5nRGlzY291bnRbXSA9IFtdO1xuXG4gIGZvciAoY29uc3QgZGlzY291bnQgb2YgbG90LmRpc2NvdW50cykge1xuICAgIGNvbnN0IG1lZXRzU3BlbmQgPVxuICAgICAgZGlzY291bnQudGhyZXNob2xkICE9PSB1bmRlZmluZWQgPyBzcGVuZEFtb3VudCA+PSBkaXNjb3VudC50aHJlc2hvbGQgOiBmYWxzZTtcbiAgICBjb25zdCBtYXRjaGVzUXVhbGlmaWVyID1cbiAgICAgIGRpc2NvdW50LnF1YWxpZmllciAhPT0gdW5kZWZpbmVkID8gcXVhbGlmaWVycy5pbmNsdWRlcyhkaXNjb3VudC5xdWFsaWZpZXIpIDogZmFsc2U7XG4gICAgY29uc3QgaXNNZW1iZXJzaGlwID0gZGlzY291bnQudHlwZSA9PT0gXCJtZW1iZXJzaGlwXCI7XG5cbiAgICBpZiAoXG4gICAgICAoZGlzY291bnQudHlwZSA9PT0gXCJwdXJjaGFzZVwiICYmIG1lZXRzU3BlbmQpIHx8XG4gICAgICAoZGlzY291bnQudHlwZSA9PT0gXCJ2YWxpZGF0aW9uXCIgJiYgbWF0Y2hlc1F1YWxpZmllcikgfHxcbiAgICAgIChpc01lbWJlcnNoaXAgJiYgZGlzY291bnQudGhyZXNob2xkID09PSB1bmRlZmluZWQpIHx8XG4gICAgICAoaXNNZW1iZXJzaGlwICYmIG1lZXRzU3BlbmQpXG4gICAgKSB7XG4gICAgICBib251c01pbnV0ZXMgKz0gZGlzY291bnQuYWRkaXRpb25hbEZyZWVNaW51dGVzO1xuICAgICAgZGlzY291bnRzQXBwbGllZC5wdXNoKGRpc2NvdW50KTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBlZmZlY3RpdmVGcmVlTWludXRlcyA9IGxvdC5mcmVlTWludXRlcyArIGJvbnVzTWludXRlcztcbiAgY29uc3QgZWZmZWN0aXZlUGFpZE1pbnV0ZXMgPSBNYXRoLm1heChkdXJhdGlvbk1pbnV0ZXMgLSBlZmZlY3RpdmVGcmVlTWludXRlcywgMCk7XG5cbiAgcmV0dXJuIHtcbiAgICBlZmZlY3RpdmVGcmVlTWludXRlcyxcbiAgICBlZmZlY3RpdmVQYWlkTWludXRlcyxcbiAgICBkaXNjb3VudHNBcHBsaWVkXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVUaWVyQ29zdChsb3Q6IFBhcmtpbmdMb3QsIHBhaWRNaW51dGVzOiBudW1iZXIpIHtcbiAgaWYgKHBhaWRNaW51dGVzIDw9IDApIHtcbiAgICByZXR1cm4geyBjb3N0OiAwLCByYXRlOiAwIH07XG4gIH1cblxuICBsZXQgcmVtYWluaW5nTWludXRlcyA9IHBhaWRNaW51dGVzO1xuICBsZXQgdG90YWxDb3N0ID0gMDtcbiAgbGV0IGxhc3RSYXRlID0gMDtcblxuICBmb3IgKGNvbnN0IHRpZXIgb2YgbG90LnRpZXJzKSB7XG4gICAgaWYgKHJlbWFpbmluZ01pbnV0ZXMgPD0gMCkgYnJlYWs7XG5cbiAgICBpZiAodGllci50b01pbnV0ZSkge1xuICAgICAgY29uc3QgdGllckR1cmF0aW9uID0gdGllci50b01pbnV0ZSAtIHRpZXIuZnJvbU1pbnV0ZSArIDE7XG4gICAgICBjb25zdCBtaW51dGVzSW5UaWVyID0gTWF0aC5taW4ocmVtYWluaW5nTWludXRlcywgdGllckR1cmF0aW9uKTtcbiAgICAgIHRvdGFsQ29zdCArPSAobWludXRlc0luVGllciAvIDYwKSAqIHRpZXIucmF0ZVBlckhvdXI7XG4gICAgICByZW1haW5pbmdNaW51dGVzIC09IG1pbnV0ZXNJblRpZXI7XG4gICAgICBsYXN0UmF0ZSA9IHRpZXIucmF0ZVBlckhvdXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvdGFsQ29zdCArPSAocmVtYWluaW5nTWludXRlcyAvIDYwKSAqIHRpZXIucmF0ZVBlckhvdXI7XG4gICAgICBsYXN0UmF0ZSA9IHRpZXIucmF0ZVBlckhvdXI7XG4gICAgICByZW1haW5pbmdNaW51dGVzID0gMDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4geyBjb3N0OiBNYXRoLm1heCh0b3RhbENvc3QsIDApLCByYXRlOiBsYXN0UmF0ZSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlUHJpY2luZyhcbiAgaW5wdXQ6IFByaWNpbmdJbnB1dFxuKTogUHJpY2luZ0JyZWFrZG93biB7XG4gIGNvbnN0IHsgbG90LCBkdXJhdGlvbk1pbnV0ZXMgfSA9IGlucHV0O1xuICBjb25zdCB7IGVmZmVjdGl2ZUZyZWVNaW51dGVzLCBlZmZlY3RpdmVQYWlkTWludXRlcywgZGlzY291bnRzQXBwbGllZCB9ID0gYXBwbHlEaXNjb3VudHMoaW5wdXQpO1xuICBjb25zdCB7IGNvc3QsIHJhdGUgfSA9IGNvbXB1dGVUaWVyQ29zdChsb3QsIGVmZmVjdGl2ZVBhaWRNaW51dGVzKTtcblxuICByZXR1cm4ge1xuICAgIGxvdElkOiBsb3QuaWQsXG4gICAgbG90TmFtZTogbG90Lm5hbWUsXG4gICAgYmFzZU1pbnV0ZXNDaGFyZ2VkOiBkdXJhdGlvbk1pbnV0ZXMsXG4gICAgZWZmZWN0aXZlRnJlZU1pbnV0ZXMsXG4gICAgZWZmZWN0aXZlUGFpZE1pbnV0ZXMsXG4gICAgdG90YWxDb3N0OiBOdW1iZXIoY29zdC50b0ZpeGVkKDIpKSxcbiAgICBkaXNjb3VudHNBcHBsaWVkLFxuICAgIGhvdXJseVJhdGVBZnRlckZyZWU6IHJhdGVcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJhcHBseURpc2NvdW50cyIsImxvdCIsImR1cmF0aW9uTWludXRlcyIsInNwZW5kQW1vdW50IiwicXVhbGlmaWVycyIsImJvbnVzTWludXRlcyIsImRpc2NvdW50c0FwcGxpZWQiLCJkaXNjb3VudCIsImRpc2NvdW50cyIsIm1lZXRzU3BlbmQiLCJ0aHJlc2hvbGQiLCJ1bmRlZmluZWQiLCJtYXRjaGVzUXVhbGlmaWVyIiwicXVhbGlmaWVyIiwiaW5jbHVkZXMiLCJpc01lbWJlcnNoaXAiLCJ0eXBlIiwiYWRkaXRpb25hbEZyZWVNaW51dGVzIiwicHVzaCIsImVmZmVjdGl2ZUZyZWVNaW51dGVzIiwiZnJlZU1pbnV0ZXMiLCJlZmZlY3RpdmVQYWlkTWludXRlcyIsIk1hdGgiLCJtYXgiLCJjb21wdXRlVGllckNvc3QiLCJwYWlkTWludXRlcyIsImNvc3QiLCJyYXRlIiwicmVtYWluaW5nTWludXRlcyIsInRvdGFsQ29zdCIsImxhc3RSYXRlIiwidGllciIsInRpZXJzIiwidG9NaW51dGUiLCJ0aWVyRHVyYXRpb24iLCJmcm9tTWludXRlIiwibWludXRlc0luVGllciIsIm1pbiIsInJhdGVQZXJIb3VyIiwiY2FsY3VsYXRlUHJpY2luZyIsImlucHV0IiwibG90SWQiLCJpZCIsImxvdE5hbWUiLCJuYW1lIiwiYmFzZU1pbnV0ZXNDaGFyZ2VkIiwiTnVtYmVyIiwidG9GaXhlZCIsImhvdXJseVJhdGVBZnRlckZyZWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/pricing.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase/mockClient.ts":
/*!************************************!*\
  !*** ./lib/supabase/mockClient.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MockSupabaseClient: () => (/* binding */ MockSupabaseClient),\n/* harmony export */   getMockSupabaseClient: () => (/* binding */ getMockSupabaseClient)\n/* harmony export */ });\n/* harmony import */ var _data_parking_lots_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/data/parking-lots.json */ \"(rsc)/./data/parking-lots.json\");\n\nclass MockSupabaseClient {\n    async listParkingLots() {\n        return {\n            data: _data_parking_lots_json__WEBPACK_IMPORTED_MODULE_0__,\n            error: null\n        };\n    }\n    async getParkingLotById(id) {\n        const lot = _data_parking_lots_json__WEBPACK_IMPORTED_MODULE_0__.find((item)=>item.id === id) ?? null;\n        return {\n            data: lot,\n            error: null\n        };\n    }\n}\nlet singleton = null;\nfunction getMockSupabaseClient() {\n    if (!singleton) {\n        singleton = new MockSupabaseClient();\n    }\n    return singleton;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2UvbW9ja0NsaWVudC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBbUQ7QUFRNUMsTUFBTUM7SUFDWCxNQUFNQyxrQkFBc0Q7UUFDMUQsT0FBTztZQUNMQyxNQUFNSCxvREFBV0E7WUFDakJJLE9BQU87UUFDVDtJQUNGO0lBRUEsTUFBTUMsa0JBQWtCQyxFQUFVLEVBQTJDO1FBQzNFLE1BQU1DLE1BQU0scURBQThCQyxJQUFJLENBQUMsQ0FBQ0MsT0FBU0EsS0FBS0gsRUFBRSxLQUFLQSxPQUFPO1FBQzVFLE9BQU87WUFDTEgsTUFBTUk7WUFDTkgsT0FBTztRQUNUO0lBQ0Y7QUFDRjtBQUVBLElBQUlNLFlBQXVDO0FBRXBDLFNBQVNDO0lBQ2QsSUFBSSxDQUFDRCxXQUFXO1FBQ2RBLFlBQVksSUFBSVQ7SUFDbEI7SUFDQSxPQUFPUztBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGFya2QvLi9saWIvc3VwYWJhc2UvbW9ja0NsaWVudC50cz8wNmEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYXJraW5nTG90cyBmcm9tIFwiQC9kYXRhL3BhcmtpbmctbG90cy5qc29uXCI7XG5pbXBvcnQgeyBQYXJraW5nTG90IH0gZnJvbSBcIkAvdHlwZXMvcGFya2luZ1wiO1xuXG5pbnRlcmZhY2UgUXVlcnlSZXN1bHQ8VD4ge1xuICBkYXRhOiBUO1xuICBlcnJvcjogRXJyb3IgfCBudWxsO1xufVxuXG5leHBvcnQgY2xhc3MgTW9ja1N1cGFiYXNlQ2xpZW50IHtcbiAgYXN5bmMgbGlzdFBhcmtpbmdMb3RzKCk6IFByb21pc2U8UXVlcnlSZXN1bHQ8UGFya2luZ0xvdFtdPj4ge1xuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiBwYXJraW5nTG90cyBhcyBQYXJraW5nTG90W10sXG4gICAgICBlcnJvcjogbnVsbFxuICAgIH07XG4gIH1cblxuICBhc3luYyBnZXRQYXJraW5nTG90QnlJZChpZDogc3RyaW5nKTogUHJvbWlzZTxRdWVyeVJlc3VsdDxQYXJraW5nTG90IHwgbnVsbD4+IHtcbiAgICBjb25zdCBsb3QgPSAocGFya2luZ0xvdHMgYXMgUGFya2luZ0xvdFtdKS5maW5kKChpdGVtKSA9PiBpdGVtLmlkID09PSBpZCkgPz8gbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgZGF0YTogbG90LFxuICAgICAgZXJyb3I6IG51bGxcbiAgICB9O1xuICB9XG59XG5cbmxldCBzaW5nbGV0b246IE1vY2tTdXBhYmFzZUNsaWVudCB8IG51bGwgPSBudWxsO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW9ja1N1cGFiYXNlQ2xpZW50KCkge1xuICBpZiAoIXNpbmdsZXRvbikge1xuICAgIHNpbmdsZXRvbiA9IG5ldyBNb2NrU3VwYWJhc2VDbGllbnQoKTtcbiAgfVxuICByZXR1cm4gc2luZ2xldG9uO1xufVxuIl0sIm5hbWVzIjpbInBhcmtpbmdMb3RzIiwiTW9ja1N1cGFiYXNlQ2xpZW50IiwibGlzdFBhcmtpbmdMb3RzIiwiZGF0YSIsImVycm9yIiwiZ2V0UGFya2luZ0xvdEJ5SWQiLCJpZCIsImxvdCIsImZpbmQiLCJpdGVtIiwic2luZ2xldG9uIiwiZ2V0TW9ja1N1cGFiYXNlQ2xpZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase/mockClient.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase/server.ts":
/*!********************************!*\
  !*** ./lib/supabase/server.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createServerClient: () => (/* binding */ createServerClient)\n/* harmony export */ });\n/* harmony import */ var _mockClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mockClient */ \"(rsc)/./lib/supabase/mockClient.ts\");\n\nfunction createServerClient() {\n    return (0,_mockClient__WEBPACK_IMPORTED_MODULE_0__.getMockSupabaseClient)();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2Uvc2VydmVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXFEO0FBRTlDLFNBQVNDO0lBQ2QsT0FBT0Qsa0VBQXFCQTtBQUM5QiIsInNvdXJjZXMiOlsid2VicGFjazovL3BhcmtkLy4vbGliL3N1cGFiYXNlL3NlcnZlci50cz82NjI1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldE1vY2tTdXBhYmFzZUNsaWVudCB9IGZyb20gXCIuL21vY2tDbGllbnRcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNlcnZlckNsaWVudCgpIHtcbiAgcmV0dXJuIGdldE1vY2tTdXBhYmFzZUNsaWVudCgpO1xufVxuIl0sIm5hbWVzIjpbImdldE1vY2tTdXBhYmFzZUNsaWVudCIsImNyZWF0ZVNlcnZlckNsaWVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase/server.ts\n");

/***/ }),

/***/ "(rsc)/./data/parking-lots.json":
/*!********************************!*\
  !*** ./data/parking-lots.json ***!
  \********************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('[{"id":"central-eastville","name":"Central Eastville","address":"Central Festival Eastville, Pradit Manutham Rd, Bangkok","coordinates":{"lat":13.8063,"lng":100.6074},"freeMinutes":180,"tiers":[{"id":"eastville-tier-1","fromMinute":181,"toMinute":300,"ratePerHour":30},{"id":"eastville-tier-2","fromMinute":301,"ratePerHour":50}],"discounts":[{"id":"eastville-spend-800","type":"purchase","description":"Spend 800 THB in participating stores","threshold":800,"additionalFreeMinutes":240},{"id":"eastville-movie","type":"validation","description":"Present movie ticket from SF Cinema","qualifier":"movie","additionalFreeMinutes":240}],"amenities":["covered","ev-charging","security"],"operator":"Central Pattana","tags":["mall","dining","cinema"]},{"id":"tesco-lotus-ladprao","name":"Tesco Lotus Ladprao","address":"Tesco Lotus, Lat Phrao Rd, Bangkok","coordinates":{"lat":13.8165,"lng":100.6051},"freeMinutes":90,"tiers":[{"id":"lotus-tier-1","fromMinute":91,"toMinute":240,"ratePerHour":20},{"id":"lotus-tier-2","fromMinute":241,"ratePerHour":40}],"discounts":[{"id":"lotus-membership","type":"membership","description":"Lotus privilege card holders get +60 minutes","additionalFreeMinutes":60}],"amenities":["open-air","security"],"operator":"Lotus Retail","tags":["groceries","budget"]},{"id":"cdc","name":"Crystal Design Center","address":"Crystal Design Center, Pradit Manutham Rd, Bangkok","coordinates":{"lat":13.8077,"lng":100.6325},"freeMinutes":120,"tiers":[{"id":"cdc-tier-1","fromMinute":121,"toMinute":240,"ratePerHour":25},{"id":"cdc-tier-2","fromMinute":241,"ratePerHour":35}],"discounts":[{"id":"cdc-dining","type":"purchase","description":"Dine-in receipt 500 THB+ adds 120 minutes","threshold":500,"additionalFreeMinutes":120,"qualifier":"dining"}],"amenities":["covered","valet"],"operator":"K.E. Land","tags":["lifestyle","design"],"imageUrl":"https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?auto=format&fit=crop&w=400&q=80"},{"id":"emsphere","name":"The Emsphere","address":"The Emsphere, Sukhumvit Rd, Bangkok","coordinates":{"lat":13.7447,"lng":100.5631},"freeMinutes":120,"tiers":[{"id":"emsphere-tier-1","fromMinute":121,"toMinute":300,"ratePerHour":40},{"id":"emsphere-tier-2","fromMinute":301,"ratePerHour":60}],"discounts":[{"id":"emsphere-spend-1000","type":"purchase","description":"Spend 1,000 THB in participating stores for +180 minutes","threshold":1000,"additionalFreeMinutes":180,"qualifier":"dining"}],"amenities":["covered","ev-charging","valet","security"],"operator":"The Mall Group","tags":["mall","luxury","dining"],"imageUrl":"https://images.unsplash.com/photo-1505843513577-22bb7d21e455?auto=format&fit=crop&w=400&q=80"},{"id":"emquartier","name":"EmQuartier","address":"EmQuartier, Sukhumvit Rd, Bangkok","coordinates":{"lat":13.7316,"lng":100.569},"freeMinutes":120,"tiers":[{"id":"emquartier-tier-1","fromMinute":121,"toMinute":240,"ratePerHour":40},{"id":"emquartier-tier-2","fromMinute":241,"ratePerHour":60}],"discounts":[{"id":"emquartier-cinema","type":"validation","description":"Quartier CineArt ticket gets +180 minutes","additionalFreeMinutes":180,"qualifier":"movie"}],"amenities":["covered","ev-charging","security"],"operator":"The Mall Group","tags":["mall","dining","cinema"],"imageUrl":"https://images.unsplash.com/photo-1529421308418-eab988ab0f8e?auto=format&fit=crop&w=400&q=80"},{"id":"emporium","name":"The Emporium","address":"The Emporium, Sukhumvit Rd, Bangkok","coordinates":{"lat":13.7306,"lng":100.568},"freeMinutes":120,"tiers":[{"id":"emporium-tier-1","fromMinute":121,"toMinute":240,"ratePerHour":35},{"id":"emporium-tier-2","fromMinute":241,"ratePerHour":55}],"discounts":[{"id":"emporium-membership","type":"membership","description":"M Card members get +120 minutes","additionalFreeMinutes":120,"qualifier":"membership"}],"amenities":["covered","valet","security"],"operator":"The Mall Group","tags":["mall","luxury"],"imageUrl":"https://images.unsplash.com/photo-1489515217757-5fd1be406fef?auto=format&fit=crop&w=400&q=80"},{"id":"k-village","name":"K Village","address":"K Village, Sukhumvit Rd, Bangkok","coordinates":{"lat":13.7224,"lng":100.5716},"freeMinutes":180,"tiers":[{"id":"kvillage-tier-1","fromMinute":181,"toMinute":300,"ratePerHour":30},{"id":"kvillage-tier-2","fromMinute":301,"ratePerHour":45}],"discounts":[{"id":"kvillage-dining","type":"purchase","description":"Dining receipt 600 THB+ adds 180 minutes","threshold":600,"additionalFreeMinutes":180,"qualifier":"dining"}],"amenities":["covered","open-air","pet-friendly"],"operator":"K Village Co., Ltd.","tags":["lifestyle","pet-friendly","dining"],"imageUrl":"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=400&q=80"}]');

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/zod"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fparking%2Frecommend%2Froute&page=%2Fapi%2Fparking%2Frecommend%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fparking%2Frecommend%2Froute.ts&appDir=%2FUsers%2Fpattarathonnopwattanapong%2FKong%2Fstartup%2FParkD%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fpattarathonnopwattanapong%2FKong%2Fstartup%2FParkD&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();